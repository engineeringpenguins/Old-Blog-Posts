Virtual ISP – Update 1
======================

/\*! elementor - v3.19.0 - 07-02-2024 \*/ .elementor-heading-title{padding:0;margin:0;line-height:1}.elementor-widget-heading .elementor-heading-title\[class\*=elementor-size-\]>a{color:inherit;font-size:inherit;line-height:inherit}.elementor-widget-heading .elementor-heading-title.elementor-size-small{font-size:15px}.elementor-widget-heading .elementor-heading-title.elementor-size-medium{font-size:19px}.elementor-widget-heading .elementor-heading-title.elementor-size-large{font-size:29px}.elementor-widget-heading .elementor-heading-title.elementor-size-xl{font-size:39px}.elementor-widget-heading .elementor-heading-title.elementor-size-xxl{font-size:59px}

Project introduction
--------------------

/\*! elementor - v3.19.0 - 07-02-2024 \*/ .elementor-column .elementor-spacer-inner{height:var(--spacer-size)}.e-con{--container-widget-width:100%}.e-con-inner>.elementor-widget-spacer,.e-con>.elementor-widget-spacer{width:var(--container-widget-width,var(--spacer-size));--align-self:var(--container-widget-align-self,initial);--flex-shrink:0}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container,.e-con>.elementor-widget-spacer>.elementor-widget-container{height:100%;width:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer{height:100%}.e-con-inner>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner,.e-con>.elementor-widget-spacer>.elementor-widget-container>.elementor-spacer>.elementor-spacer-inner{height:var(--container-widget-height,var(--spacer-size))}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty,.e-con>.elementor-widget-spacer.elementor-widget-empty{position:relative;min-height:22px;min-width:22px}.e-con-inner>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon,.e-con>.elementor-widget-spacer.elementor-widget-empty .elementor-widget-empty-icon{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;padding:0;width:22px;height:22px}

/\*! elementor - v3.19.0 - 07-02-2024 \*/ .elementor-widget-text-editor.elementor-drop-cap-view-stacked .elementor-drop-cap{background-color:#69727d;color:#fff}.elementor-widget-text-editor.elementor-drop-cap-view-framed .elementor-drop-cap{color:#69727d;border:3px solid;background-color:transparent}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap{margin-top:8px}.elementor-widget-text-editor:not(.elementor-drop-cap-view-default) .elementor-drop-cap-letter{width:1em;height:1em}.elementor-widget-text-editor .elementor-drop-cap{float:left;text-align:center;line-height:1;font-size:50px}.elementor-widget-text-editor .elementor-drop-cap-letter{display:inline-block}

A friend of mine wanted to create a “pocket internet” as he called it to develop some skills to use in his workplace/career. I am very interested in seeing this through and have been helping out where possible. Our goal was originally to have a virtual environment on his LAN that mimicked a GPON network with customers and ISP. After some thought the project has evolved to me being his upstream “ISP” (over VPN) and his ISP being built with his ideas (completely open source technology). Likely we will have a DMZ in between our ISP’s for things like IPAM/DCIM, Ticketing, network monitoring, etc.

I would like to eventually provide voice and video streams to his ISP. Right now I have modified my MPLS lab so that I can provide L2 and L3 VPN services. I have a pfsense firewall behind the WAN bridge that is setup to only allow LAN traffic from my double NATed router. There is a lot of network complexity here that may need to be scaled back as I have built this with static routes and OSPF neighbor. You can access the MGMT ubuntu desktop from my lan via RDP or ssh and from that machine access the rest of the lab network.

/\*! elementor - v3.19.0 - 07-02-2024 \*/ .elementor-widget-image-carousel .swiper,.elementor-widget-image-carousel .swiper-container{position:static}.elementor-widget-image-carousel .swiper-container .swiper-slide figure,.elementor-widget-image-carousel .swiper .swiper-slide figure{line-height:inherit}.elementor-widget-image-carousel .swiper-slide{text-align:center}.elementor-image-carousel-wrapper:not(.swiper-container-initialized):not(.swiper-initialized) .swiper-slide{max-width:calc(100% / var(--e-image-carousel-slides-to-show, 3))}

![network topology](https://phantasmagoria.tech/wp-content/uploads/2021/11/network-topology-150x150.png)

![pfsense](https://phantasmagoria.tech/wp-content/uploads/2021/11/pfsense-150x150.png)

![resources](https://phantasmagoria.tech/wp-content/uploads/2021/11/resources-150x150.png)

My next steps are to add services like voice, video, network monitoring, etc. I have deployed netbox in both ISP’s and down the road hope to use automated API calls to keep them in sync.
